collector_name: pg_stat_collector

# Similar to global.min_interval, but applies to the queries defined by this collector only.
#min_interval: 0s

metrics:
  - metric_name: pg_stat_io
    type: gauge
    help: 'IO usage of postgres server'
    query: |
      SELECT backend_type AS "process", object, context,extract(EPOCH FROM stats_reset) AS reset_time, reads,
      read_time,writes,write_time,writebacks,writeback_time,extends,extend_time,op_bytes,hits,
      evictions,reuses,fsyncs,fsync_time FROM pg_stat_io
    key_labels:
      - process
    value_label: operation
    values:
      - reads
      - writes